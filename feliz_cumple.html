  <button class="secret-btn" onclick="startCelebration()">💖 ¡Haz clic, Nao! 💖</button>

  <div class="main-card" id="main-card" style="display: none;">
    <h1 id="main-title">🎉🥳 ¡Feliz y bendecido cumpleaños, Nao! 🎂</h1>
    <p id="message-1">Deseo de corazón que pases un día maravilloso en compañía de tu familia y la gente que te quiere. Que el universo te devuelva hoy todo lo bonito que mereces: una energía vibrante ✨, sonrisas que iluminen el alma y un pastel decente 😄 jajajaja.</p>
    <p id="message-2">Que este nuevo ciclo en tu vida florezca con experiencias que te hagan crecer, momentos que se conviertan en recuerdos felices y logros que te llenen de un inmenso orgullo. Eres una persona admirable.</p>
    <div id="secret-message">Te deseo todo lo mejor, no solo hoy, sino siempre. A la distancia, te envío el más cálido de los abrazos. 🫂🤗</div>
    <button id="closeBtn" onclick="sayGoodbye(this)">Cierra Nao</button>
  </div>

  <canvas class="confetti"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    let intervalId;

    function confettiBoom() {
      confetti({ particleCount: 300, spread: 360, origin: { y: Math.random() * 0.6 } });
    }

    function fireworksEffect() {
      const duration = 3000;
      const animationEnd = Date.now() + duration;
      const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };
      const interval = setInterval(() => {
        const timeLeft = animationEnd - Date.now();
        if (timeLeft <= 0) return clearInterval(interval);
        const particleCount = 70 * (timeLeft / duration);
        confetti({ ...defaults, particleCount, origin: { x: Math.random() * 0.4 + 0.1, y: Math.random() - 0.2 } });
        confetti({ ...defaults, particleCount, origin: { x: Math.random() * 0.3 + 0.6, y: Math.random() - 0.2 } });
      }, 200);
    }

    function generateBalloons() {
      const colors = ['#e91e63', '#f06292', '#fdd835', '#81c784', '#4fc3f7', '#ba68c8'];
      for (let i = 0; i < 20; i++) {
        const balloon = document.createElement('div');
        balloon.className = 'balloon';
        balloon.style.left = `${Math.random() * 90}%`;
        balloon.style.top = `${Math.random() * 60 + 60}px`;
        const color = colors[Math.floor(Math.random() * colors.length)];
        balloon.style.background = `radial-gradient(circle at 30% 30%, ${color}, ${color})`;
        document.body.appendChild(balloon);
      }
    }

    function startCelebration() {
      clearInterval(intervalId);
      document.querySelector('.secret-btn').style.display = 'none';
      confettiBoom();
      const card = document.getElementById("main-card");
      card.style.display = "block";
      document.getElementById("main-title").style.animation = "fadeIn 2s ease-in-out forwards";
      setTimeout(() => {
        document.getElementById("message-1").style.animation = "fadeInText 1.5s ease-in-out forwards";
        confettiBoom();
      }, 3000);
      setTimeout(() => {
        document.getElementById("message-2").style.animation = "fadeInText 1.5s ease-in-out forwards";
      }, 6000);
      setTimeout(() => {
        const secret = document.getElementById("secret-message");
        secret.style.display = "block";
        secret.style.animation = "fadeInText 1.5s ease-in-out forwards";
        confettiBoom();
      }, 9000);
      setTimeout(() => {
        document.getElementById("closeBtn").style.display = 'inline-block';
      }, 12000);
      intervalId = setInterval(confettiBoom, 1000);
      generateBalloons();
    }

    function sayGoodbye(button) {
      clearInterval(intervalId);
      const card = document.getElementById("main-card");
      card.style.animation = "mFold 1.5s ease forwards";
      setTimeout(() => {
        fireworksEffect();
        card.remove();
        const message = document.createElement('div');
        message.innerText = '🎁 Con cariño, Rudy 💖';
        message.style.fontSize = '2.4rem';
        message.style.color = '#6a1b9a';
        message.style.fontFamily = "'Dancing Script', cursive";
        message.style.margin = '80px auto 0';
        message.style.animation = 'zoomInFast 1s ease-in-out forwards, swing 2s infinite ease-in-out';
        message.style.opacity = 0;
        message.style.transform = 'scale(0)';
        message.style.textAlign = 'center';
        message.style.position = 'relative';

        const balloon1 = document.createElement('div');
        balloon1.className = 'balloon';
        balloon1.style.top = '-50px';
        balloon1.style.left = '30%';
        balloon1.style.background = 'radial-gradient(circle at 30% 30%, #ff80ab, #ff4081)';

        const balloon2 = balloon1.cloneNode();
        balloon2.style.left = '60%';
        balloon2.style.background = 'radial-gradient(circle at 30% 30%, #ba68c8, #8e24aa)';

        message.appendChild(balloon1);
        message.appendChild(balloon2);
        document.body.appendChild(message);
        intervalId = setInterval(confettiBoom, 1000);
      }, 1500);
    }
  </script>
</body>
</html>
